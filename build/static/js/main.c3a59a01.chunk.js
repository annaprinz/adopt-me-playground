(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,a,t){e.exports=t(69)},68:function(e,a,t){},69:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(17),s=t(74),i=t(76),l=t(75),c=t(6),d=t(7),u=t(10),m=t(8),p=t(9);function g(e){return(e/100).toLocaleString("en-US",{style:"currency",currency:"USD"})}function h(e){return e[Math.floor(Math.random()*e.length)]}function f(){var e=["adorable","beautiful","clean","drab","elegant","fancy","glamorous","handsome","long","magnificent","old-fashioned","plain","quaint","sparkling","ugliest","unsightly","angry","bewildered","clumsy","defeated","embarrassed","fierce","grumpy","helpless","itchy","jealous","lazy","mysterious","nervous","obnoxious","panicky","repulsive","scary","thoughtless","uptight","worried"];return"".concat(h(e),"-").concat(h(e),"-").concat(h(["women","men","children","teeth","feet","people","leaves","mice","geese","halves","knives","wives","lives","elves","loaves","potatoes","tomatoes","cacti","foci","fungi","nuclei","syllabuses","analyses","diagnoses","oases","theses","crises","phenomena","criteria","data"]))}var b=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).myInput=r.a.createRef(),t.goToStore=function(e){e.preventDefault();var a=t.myInput.current.value;t.props.history.push("/store/".concat(a))},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"store-selector",onSubmit:this.goToStore},r.a.createElement("h2",null,"Please Enter A Store"),r.a.createElement("input",{type:"text",ref:this.myInput,required:!0,placeholder:"Store Name",defaultValue:f()}),r.a.createElement("button",{type:"submit"},"Visit Store => ")))}}]),a}(r.a.Component),v=t(13),y=function(e){return r.a.createElement("header",{className:"top"},r.a.createElement("h1",null,"Adoption",r.a.createElement("span",{className:"ofThe"},r.a.createElement("span",{className:"of"},"OF")),"Dogs"),r.a.createElement("h3",{className:"tagline"},r.a.createElement("span",null,e.tagline)))},E=t(15),w=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).renderOrder=function(e){var a=t.props.dogs[e];if(!a)return null;var n=t.props.order[e],o=a&&"available"===a.status,s={classNames:"order",key:e,timeout:{enter:500,exit:500}};return o?r.a.createElement(E.CSSTransition,s,r.a.createElement("li",{key:e},r.a.createElement("span",null,r.a.createElement(E.TransitionGroup,{component:"span",className:"count"},r.a.createElement(E.CSSTransition,{classNames:"count",key:n,timeout:{enter:500,exit:500}},r.a.createElement("span",null,n))),"amount: ",a.name,g(n*a.price),r.a.createElement("button",{onClick:function(){return t.props.removeFromOrder(e)}},"\xd7")))):r.a.createElement(E.CSSTransition,s,r.a.createElement("li",{key:e},"Sorry ",a?a.name:"dog"," is no longer available"))},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this,a=Object.keys(this.props.order),t=a.reduce(function(a,t){var n=e.props.dogs[t],r=e.props.order[t];return n&&"available"===n.status?a+r*n.price:a},0);return r.a.createElement("div",{className:"order-wrap"},r.a.createElement("h2",null,"Order"),r.a.createElement(E.TransitionGroup,{component:"ul",className:"order"},a.map(this.renderOrder)),r.a.createElement("div",{className:"total"},"Total:",r.a.createElement("strong",null,g(t))))}}]),a}(r.a.Component),O=t(19),k=t.n(O),j=t(24),S=t(18),C=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(o)))).nameRef=r.a.createRef(),t.raceRef=r.a.createRef(),t.priceRef=r.a.createRef(),t.statusRef=r.a.createRef(),t.imageRef=r.a.createRef(),t.descRef=r.a.createRef(),t.createDog=function(e){e.preventDefault(),console.log("Creating a Dog \ud83d\udc15");var a={name:t.nameRef.current.value,race:t.raceRef.current.value,price:t.priceRef.current.value,status:t.statusRef.current.value,image:t.imageRef.current.value,desc:t.descRef.current.value};t.props.addDog(a),e.currentTarget.reset()},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"dog-edit",onSubmit:this.createDog},r.a.createElement("input",{name:"name",ref:this.nameRef,type:"text",placeholder:"name"}),r.a.createElement("input",{name:"race",ref:this.raceRef,type:"text",placeholder:"race"}),r.a.createElement("input",{type:"text",name:"price",ref:this.priceRef,placeholder:"price"}),r.a.createElement("select",{name:"status",ref:this.statusRef},r.a.createElement("option",{value:"available"},"Ready"),r.a.createElement("option",{value:"unavailable"},"Sold!")),r.a.createElement("input",{name:"image",ref:this.imageRef,type:"text",placeholder:"image"}),r.a.createElement("textarea",{name:"desc",ref:this.descRef,type:"text",placeholder:"desc"}),r.a.createElement("button",{type:"submit"},"+ Add Dog"))}}]),a}(r.a.Component),x=t(22),D=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).handleChange=function(e){var a=Object(v.a)({},t.props.dog,Object(x.a)({},e.currentTarget.name,"price"===e.currentTarget.name?parseFloat(e.currentTarget.value):e.currentTarget.value));t.props.updateDog(t.props.index,a)},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"dog-edit"},r.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,value:this.props.dog.name}),r.a.createElement("input",{type:"text",name:"race",onChange:this.handleChange,value:this.props.dog.race}),r.a.createElement("input",{type:"text",name:"price",onChange:this.handleChange,value:this.props.dog.price}),r.a.createElement("select",{type:"text",name:"status",onChange:this.handleChange,value:this.props.dog.status},r.a.createElement("option",{value:"available"},"Ready"),r.a.createElement("option",{value:"unavailable"},"Sold!")),r.a.createElement("textarea",{name:"desc",onChange:this.handleChange,value:this.props.dog.desc}),r.a.createElement("input",{type:"text",name:"image",onChange:this.handleChange,value:this.props.dog.image}),r.a.createElement("button",{onClick:function(){return e.props.deleteDog(e.props.index)}},"Remove dog"))}}]),a}(r.a.Component),I=function(e){return r.a.createElement("nav",{className:"login"},r.a.createElement("h2",null,"Inventory login"),r.a.createElement("p",null,"Sign in to manage your store's Inventory"),r.a.createElement("button",{className:"github",onClick:function(){return e.authenticate("Github")}},"Login with GitHub"),r.a.createElement("button",{className:"facebook",onClick:function(){return e.authenticate("Facebook")}},"Login with facebook"))},R=t(14),A=t.n(R),N=t(32),T=t.n(N),B=A.a.initializeApp({apiKey:"AIzaSyCyw7fgZxvCwPwtUPxIjkRnLx8fZYttz0w",authDomain:"adobt-me-playground.firebaseapp.com",databaseURL:"https://adobt-me-playground.firebaseio.com"}),F=T.a.createClass(B.database()),L=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={uid:null,owner:null},t.authHandler=function(){var e=Object(j.a)(k.a.mark(function e(a){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.fetch(t.props.storeId,{context:Object(S.a)(Object(S.a)(t))});case 2:if(n=e.sent,console.log(n),n.owner){e.next=7;break}return e.next=7,F.post("".concat(t.props.storeId,"/owner"),{data:a.user.uid});case 7:t.setState({uid:a.user.uid,owner:n.owner||a.user.uid});case 8:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t.authenticate=function(e){var a=new(A.a.auth["".concat(e,"AuthProvider")]);B.auth().signInWithPopup(a).then(t.authHandler)},t.logout=Object(j.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("logging out"),e.next=3,A.a.auth().signOut();case 3:t.setState({uid:null});case 4:case"end":return e.stop()}},e)})),t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;A.a.auth().onAuthStateChanged(function(a){a&&e.authHandler({user:a})})}},{key:"render",value:function(){var e=this,a=r.a.createElement("button",{onClick:this.logout},"Logout");return this.state.uid?this.state.uid!==this.state.owner?r.a.createElement("div",null,r.a.createElement("p",null,"Sorry, you are not the owner",a)):r.a.createElement("div",{className:"inventory"},r.a.createElement("h2",null,"Inventory"),a,Object.keys(this.props.dogs).map(function(a){return r.a.createElement(D,{key:a,index:a,dog:e.props.dogs[a],updateDog:e.props.updateDog,deleteDog:e.props.deleteDog})}),r.a.createElement(C,{addDog:this.props.addDog}),r.a.createElement("button",{onClick:this.props.loadSampleDogs},"Load Sample Dogs")):r.a.createElement(I,{authenticate:this.authenticate})}}]),a}(r.a.Component),z={dog1:{name:"Charlie",race:"Australian shepherd",image:"/images/dog1.jpg",desc:"An Australian Shepherd is a well-bred dog with strong shepherd and guardian instincts. It is a pleasant companion, balanced and friendly. May be a bit reserved for new acquaintances. Devoted and patient to the family of children and well suited as family and companion dog of people who are willing to give it meaningful tasks.",price:400,status:"available"},dog2:{name:"Bella and Max",race:"Grave dog",image:"/images/dog2.jpg",desc:"English A tomb dog - regardless of size and hair layer - is active and energetic when outside, while calm and balanced inside. It is quick, well-groomed and eager to participate in family life. It is independent, brave and robust - a large dog in a small body. It accepts strangers without being overbearing. ",price:200,status:"available"},dog3:{name:"Toby",race:"Siberian husky",image:"/images/dog3.jpg",desc:"A siberian husky is vigilant, active and outgoing. As a family dog, it is friendly and very social, but it is not an easy breed to own. It is reserved but not particularly suspicious of strangers or aggressive towards other dogs. A siberian husky works amazingly well in herd. It is rare to hear the bark it howls instead.",price:150,status:"unavailable"},dog4:{name:"Lassie",race:"Rough Collie",image:"/images/dog4.jpg",desc:"The Scottish Shepherd Dog is the UK's classic sheepdog, which over the years has developed into an excellent companion dog. Collien is contact-seeking, willing to learn and easy to socialize with. It is especially friendly and protective of the family's children. It may tend to be startled, for example, by loud noises.",price:400,status:"available"},dog5:{name:"Molly",race:"Berner sennenhund",image:"/images/dog5.jpg",desc:"A Bernese snowman is good-natured and devoted to everyone it knows. Generally patient and indulgent in relation to children. Confident and kind to strangers and other animals. An extroverted and sociable companion dog that can be used by most families. It may be somewhat watchful, but it rarely shows up as sharpness.      ",price:390,status:"available"},dog6:{name:"Ruby",race:"Newfoundland",image:"/images/dog6.jpg",desc:"One of the friendliest dogs to be found. A calm, gracious and adaptable companion dog also for first time dog owners. Happiest as a full member of the family, gentle and patient towards children and welcoming to strangers. Very fond of water and would like to make a big detour to get through a puddle.",price:320,status:"available"},dog7:{name:"Sparky",race:"English Cocker Spaniel",image:"/images/dog7.jpg",desc:"An English Cocker Spaniel is full of joy and energy and has a constantly wagging tail. It is gentle and devoted to everyone in the family and kind to strangers. Suitable as a companion dog, but you always have in mind that behind the endearing creature hides a determined and independent hunting dog with a great need for activity.",price:200,status:"available"},dog8:{name:"Bernard",race:"Berner sennenhund",image:"/images/dog8.jpg",desc:"A Bernese snowman is good-natured and devoted to everyone it knows. Generally patient and indulgent in relation to children. Confident and kind to strangers and other animals. An extroverted and sociable companion dog that can be used by most families. It may be somewhat watchful, but it rarely shows up as sharpness.      ",price:210,status:"available"},dog9:{name:"Blackie",race:"Bearded Collie",image:"/images/dog9.png",desc:"It is active and friendly by nature and a robust and lively companion dog for a family that is not overly comfortable. It is sociable to strangers, contact-seeking and alert with a great deal of confidence, but it is not watchful or protective. It may tend to be barking.",price:250,status:"available"}},G=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).handleClick=function(){t.props.addToOrder(t.props.index)},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props.details,a=e.image,t=e.name,n=e.price,o=e.race,s=e.desc,i="available"===e.status;return r.a.createElement("li",{className:"tag-dog"},r.a.createElement("img",{src:a,alt:t}),r.a.createElement("h3",{className:"dog-name"},t,r.a.createElement("span",{className:"price"},g(n))),r.a.createElement("h4",{className:"dog-name"},o),r.a.createElement("p",null,s),r.a.createElement("button",{disabled:!i,onClick:this.handleClick},i?"Add To Cart":"Sold"))}}]),a}(r.a.Component),M=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={dogs:{},order:{}},t.addDog=function(e){var a=Object(v.a)({},t.state.dogs);a["dog".concat(Date.now())]=e,t.setState({dogs:a})},t.loadSampleDogs=function(){t.setState({dogs:z})},t.addToOrder=function(e){var a=Object(v.a)({},t.state.order);a[e]=a[e]+1||1,t.setState({order:a})},t.updateDog=function(e,a){var n=Object(v.a)({},t.state.dogs);n[e]=a,t.setState({dogs:n})},t.deleteDog=function(e){var a=Object(v.a)({},t.state.dogs);a[e]=null,t.setState({dogs:a})},t.removeFromOrder=function(e){var a=Object(v.a)({},t.state.order);delete a[e],t.setState({order:a})},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params,a=localStorage.getItem(e.storeId);a&&this.setState({order:JSON.parse(a)}),this.ref=F.syncState("".concat(e.storeId,"/dogs"),{context:this,state:"dogs"})}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.storeId;localStorage.setItem(e,JSON.stringify(this.state.order))}},{key:"componentWillUnmount",value:function(){F.removeBinding(this.ref)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"adobt-me"},r.a.createElement("div",{className:"tag"},r.a.createElement(y,{tagline:"Adopt me - playground"}),r.a.createElement("ul",{className:"dogs"},Object.keys(this.state.dogs).map(function(a){return r.a.createElement(G,{key:a,index:a,details:e.state.dogs[a],addToOrder:e.addToOrder})}))),r.a.createElement(w,{dogs:this.state.dogs,order:this.state.order,removeFromOrder:this.removeFromOrder}),r.a.createElement(L,{addDog:this.addDog,updateDog:this.updateDog,deleteDog:this.deleteDog,loadSampleDogs:this.loadSampleDogs,dogs:this.state.dogs,storeId:this.props.match.params.storeId}))}}]),a}(r.a.Component),U=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Not Found!"))},q=function(){return r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(l.a,{exact:!0,path:"/",component:b}),r.a.createElement(l.a,{exact:!0,path:"/store/:storeId",component:M}),r.a.createElement(l.a,{component:U})))};t(68);Object(o.render)(r.a.createElement(q,null),document.querySelector("#main"))}},[[34,1,2]]]);
//# sourceMappingURL=main.c3a59a01.chunk.js.map